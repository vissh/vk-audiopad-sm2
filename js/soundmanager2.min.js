(function(a,b){"use strict";function f(c,e,f){function ic(a){return i.preferFlash&&Lb&&!i.ignoreFlash&&i.flash[a]!==b&&i.flash[a]}function jc(a){return function(b){var d,c=this._s;return c&&c._a?d=a.call(this,b):(c&&c.id?i._wD(c.id+": Ignoring "+b.type):i._wD(n+"Ignoring "+b.type),d=null),d}}this.setupOptions={url:c||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1},this.domContainer=document.createElement("div");var g=this;this.getC=function(){return g.domContainer},f&&f===Object(f)&&d(this.setupOptions,f,!1,["url","flashVersion","debugMode","debugFlash","useConsole","consoleOnly","waitForWindowLoad","bgColor","useHighPerformance","flashPollingInterval","html5PollingInterval","flashLoadTimeout","wmode","allowScriptAccess","useFlashBlock","useHTML5Audio","html5Test","preferFlash","noSWFCache"]),this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=e||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20130101",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var h,o,s,t,u,v,y,E,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,cb,db,eb,hb,ib,jb,kb,lb,mb,nb,ob,pb,sb,tb,ub,xb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,i=this,j=null,k=null,l="soundManager",m=l+": ",n="HTML5::",p=navigator.userAgent,q=""+a.location.href,r=document,w=[],x=!0,z=!1,A=!1,B=!1,C=!1,D=!1,F=0,ab=["log","info","warn","error"],bb=8,fb=null,gb=null,qb=!1,rb=!1,vb=0,wb=null,yb=[],zb=null,Ib=Array.prototype.slice,Jb=!1,Rb=p.match(/(ipad|iphone|ipod)/i),Sb=p.match(/android/i),Tb=p.match(/msie/i),Ub=p.match(/webkit/i),Vb=p.match(/safari/i)&&!p.match(/chrome/i),Wb=p.match(/opera/i),Xb=p.match(/(mobile|pre\/|xoom)/i)||Rb||Sb,Yb=!q.match(/usehtml5audio/i)&&!q.match(/sm2\-ignorebadua/i)&&Vb&&!p.match(/silk/i)&&p.match(/OS X 10_6_([3-7])/i),Zb=a.console!==b&&console.log!==b,$b=r.hasFocus!==b?r.hasFocus():null,_b=Vb&&(r.hasFocus===b||!r.hasFocus()),ac=!_b,bc=/(mp3|mp4|mpa|m4a|m4b)/i,cc="about:blank",dc=r.location?r.location.protocol.match(/http/i):null,ec=dc?"":"http://",fc=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,gc=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],hc=RegExp("\\.("+gc.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!dc,kb={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.hasHTML5=function(){try{return Audio!==b&&(Wb&&opera!==b&&10>opera.version()?new Audio(null):new Audio).canPlayType!==b}catch(a){return!1}}(),this.setup=function(a){var c=!i.url;return a!==b&&B&&zb&&i.ok()&&(a.flashVersion!==b||a.url!==b||a.html5Test!==b)&&ob(hb("setupLate")),I(a),c&&W&&a.url!==b&&i.beginDelayedInit(),W||a.url===b||"complete"!==r.readyState||setTimeout(U,1),i},this.ok=function(){return zb?B&&!C:i.useHTML5Audio&&i.hasHTML5},this.supported=this.ok,this.getMovie=function(b){return o(b)||r[b]||a[b]},this.createSound=function(a,c){function j(){return f=mb(f),i.sounds[f.id]=new h(f),i.soundIDs.push(f.id),i.sounds[f.id]}var d,e,f,g=null;return d=l+".createSound(): ",e=d+hb(B?"notOK":"notReady"),B&&i.ok()?(c!==b&&(a={id:a,url:c}),f=H(a),f.url=xb(f.url),(""+f.id).charAt(0).match(/^[0-9]$/)&&i._wD(d+hb("badID",f.id),2),i._wD(d+f.id+" ("+f.url+")",1),pb(f.id,!0)?(i._wD(d+f.id+" exists",1),i.sounds[f.id]):(Bb(f)?(g=j(),i._wD(f.id+": Using HTML5"),g._setup_html5(f)):(v>8&&(null===f.isMovieStar&&(f.isMovieStar=!(!f.serverURL&&(f.type?!f.type.match(fc):1)&&!f.url.match(hc))),f.isMovieStar&&(i._wD(d+"using MovieStar handling"),f.loops>1&&E("noNSLoop"))),f=nb(f,d),g=j(),8===v?k._createSound(f.id,f.loops||1,f.usePolicyFile):(k._createSound(f.id,f.url,f.usePeakData,f.useWaveformData,f.useEQData,f.isMovieStar,f.isMovieStar?f.bufferTime:!1,f.loops||1,f.serverURL,f.duration||null,f.autoPlay,!0,f.autoLoad,f.usePolicyFile),f.serverURL||(g.connected=!0,f.onconnect&&f.onconnect.apply(g))),f.serverURL||!f.autoLoad&&!f.autoPlay||g.load(f)),!f.serverURL&&f.autoPlay&&g.play(),g)):(ob(e),!1)},this.destroySound=function(a,b){if(!pb(a))return!1;var d,c=i.sounds[a];for(c._iO={},c.stop(),c.unload(),d=0;i.soundIDs.length>d;d++)if(i.soundIDs[d]===a){i.soundIDs.splice(d,1);break}return b||c.destruct(!0),c=null,delete i.sounds[a],!0},this.load=function(a,b){return pb(a)?i.sounds[a].load(b):!1},this.unload=function(a){return pb(a)?i.sounds[a].unload():!1},this.onPosition=function(a,b,c,d){return pb(a)?i.sounds[a].onposition(b,c,d):!1},this.onposition=this.onPosition,this.clearOnPosition=function(a,b,c){return pb(a)?i.sounds[a].clearOnPosition(b,c):!1},this.play=function(a,b){var c=!1;return B&&i.ok()?pb(a)?i.sounds[a].play(b):(b instanceof Object||(b={url:b}),b&&b.url&&(i._wD(l+'.play(): attempting to create "'+a+'"',1),b.id=a,c=i.createSound(b).play()),c):(ob(l+".play(): "+hb(B?"notOK":"notReady")),c)},this.start=this.play,this.setPosition=function(a,b){return pb(a)?i.sounds[a].setPosition(b):!1},this.stop=function(a){return pb(a)?(i._wD(l+".stop("+a+")",1),i.sounds[a].stop()):!1},this.stopAll=function(){var a;i._wD(l+".stopAll()",1);for(a in i.sounds)i.sounds.hasOwnProperty(a)&&i.sounds[a].stop()},this.pause=function(a){return pb(a)?i.sounds[a].pause():!1},this.pauseAll=function(){var a;for(a=i.soundIDs.length-1;a>=0;a--)i.sounds[i.soundIDs[a]].pause()},this.resume=function(a){return pb(a)?i.sounds[a].resume():!1},this.resumeAll=function(){var a;for(a=i.soundIDs.length-1;a>=0;a--)i.sounds[i.soundIDs[a]].resume()},this.togglePause=function(a){return pb(a)?i.sounds[a].togglePause():!1},this.setPan=function(a,b){return pb(a)?i.sounds[a].setPan(b):!1},this.setVolume=function(a,b){return pb(a)?i.sounds[a].setVolume(b):!1},this.mute=function(a){var b=0;if(a instanceof String&&(a=null),a)return pb(a)?(i._wD(l+'.mute(): Muting "'+a+'"'),i.sounds[a].mute()):!1;for(i._wD(l+".mute(): Muting all sounds"),b=i.soundIDs.length-1;b>=0;b--)i.sounds[i.soundIDs[b]].mute();return i.muted=!0,!0},this.muteAll=function(){i.mute()},this.unmute=function(a){var b;if(a instanceof String&&(a=null),a)return pb(a)?(i._wD(l+'.unmute(): Unmuting "'+a+'"'),i.sounds[a].unmute()):!1;for(i._wD(l+".unmute(): Unmuting all sounds"),b=i.soundIDs.length-1;b>=0;b--)i.sounds[i.soundIDs[b]].unmute();return i.muted=!1,!0},this.unmuteAll=function(){i.unmute()},this.toggleMute=function(a){return pb(a)?i.sounds[a].toggleMute():!1},this.getMemoryUse=function(){var a=0;return k&&8!==v&&(a=parseInt(k._getMemoryUse(),10)),a},this.disable=function(c){var d;if(c===b&&(c=!1),C)return!1;for(C=!0,E("shutdown",1),d=i.soundIDs.length-1;d>=0;d--)cb(i.sounds[i.soundIDs[d]]);return G(c),Hb.remove(a,"load",M),!0},this.canPlayMIME=function(a){var b;return i.hasHTML5&&(b=Cb({type:a})),!b&&zb&&(b=a&&i.ok()?!!((v>8?a.match(fc):null)||a.match(i.mimePattern)):null),b},this.canPlayURL=function(a){var b;return i.hasHTML5&&(b=Cb({url:a})),!b&&zb&&(b=a&&i.ok()?!!a.match(i.filePattern):null),b},this.canPlayLink=function(a){return a.type!==b&&a.type&&i.canPlayMIME(a.type)?!0:i.canPlayURL(a.href)},this.getSoundById=function(a,b){if(!a)throw Error(l+".getSoundById(): sID is null/_undefined");var c=i.sounds[a];return c||b||i._wD('"'+a+'" is an invalid sound ID.',2),c},this.onready=function(b,c){var d="onready",e=!1;if("function"!=typeof b)throw hb("needFunction",d);return B&&i._wD(hb("queue",d)),c||(c=a),K(d,b,c),L(),e=!0,e},this.ontimeout=function(b,c){var d="ontimeout",e=!1;if("function"!=typeof b)throw hb("needFunction",d);return B&&i._wD(hb("queue",d)),c||(c=a),K(d,b,c),L({type:d}),e=!0,e},this._writeDebug=function(a,c){var e,f,d="soundmanager-debug";return i.debugMode?Zb&&i.useConsole&&(c&&"object"==typeof c?console.log(a,c):ab[c]!==b?console[ab[c]](a):console.log(a),i.consoleOnly)?!0:(e=o(d))?(f=r.createElement("div"),0===++F%2&&(f.className="sm2-alt"),c=c===b?0:parseInt(c,10),f.appendChild(r.createTextNode(a)),c&&(c>=2&&(f.style.fontWeight="bold"),3===c&&(f.style.color="#ff3333")),e.insertBefore(f,e.firstChild),e=null,!0):!1:!1},-1!==q.indexOf("sm2-debug=alert")&&(this._writeDebug=function(b){a.alert(b)}),this._wD=this._writeDebug,this._debug=function(){var a,b;for(E("currentObj",1),a=0,b=i.soundIDs.length;b>a;a++)i.sounds[i.soundIDs[a]]._debug()},this.reboot=function(b,c){i.soundIDs.length&&i._wD("Destroying "+i.soundIDs.length+" SMSound objects...");var d,e,f;for(d=i.soundIDs.length-1;d>=0;d--)i.sounds[i.soundIDs[d]].destruct();if(k)try{Tb&&(gb=k.innerHTML),fb=k.parentNode.removeChild(k),E("flRemoved")}catch(g){E("badRemove",2)}if(gb=fb=zb=k=null,i.enabled=W=B=qb=rb=z=A=C=Jb=i.swfLoaded=!1,i.soundIDs=[],i.sounds={},b)w=[];else for(d in w)if(w.hasOwnProperty(d))for(e=0,f=w[d].length;f>e;e++)w[d][e].fired=!1;return c||i._wD(l+": Rebooting..."),i.html5={usingFlash:null},i.flash={},i.html5Only=!1,i.ignoreFlash=!1,a.setTimeout(function(){T(),c||i.beginDelayedInit()},20),i},this.reset=function(){return E("reset"),i.reboot(!0,!0)},this.getMoviePercent=function(){return k&&"PercentLoaded"in k?k.PercentLoaded():null},this.beginDelayedInit=function(){D=!0,U(),setTimeout(function(){return rb?!1:(Y(),S(),rb=!0,!0)},20),N()},this.destruct=function(){i._wD(l+".destruct()"),i.disable(!0)},h=function(a){var d,e,f,g,h,l,p,q,s,c=this,m=!1,n=[],o=0,r=null;s={duration:null,time:null},this.id=a.id,this.sID=this.id,this.url=a.url,this.options=H(a),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,this.id3={},this._debug=function(){i._wD(c.id+": Merged options:",c.options)},this.load=function(a){var e,d=null;if(a!==b?c._iO=H(a,c.options):(a=c.options,c._iO=a,r&&r!==c.url&&(E("manURL"),c._iO.url=c.url,c.url=null)),c._iO.url||(c._iO.url=c.url),c._iO.url=xb(c._iO.url),c.instanceOptions=c._iO,e=c._iO,i._wD(c.id+": load ("+e.url+")"),e.url===c.url&&0!==c.readyState&&2!==c.readyState)return E("onURL",1),3===c.readyState&&e.onload&&e.onload.apply(c,[!!c.duration]),c;if(c.loaded=!1,c.readyState=1,c.playState=0,c.id3={},Bb(e))d=c._setup_html5(e),d._called_load?i._wD(c.id+": Ignoring request to load again"):(c._html5_canplay=!1,c.url!==e.url&&(i._wD(E("manURL")+": "+e.url),c._a.src=e.url,c.setPosition(0)),c._a.autobuffer="auto",c._a.preload="auto",c._a._called_load=!0,e.autoPlay&&c.play());else try{c.isHTML5=!1,c._iO=nb(mb(e)),e=c._iO,8===v?k._load(c.id,e.url,e.stream,e.autoPlay,e.usePolicyFile):k._load(c.id,e.url,!!e.stream,!!e.autoPlay,e.loops||1,!!e.autoLoad,e.usePolicyFile)}catch(f){E("smError",2),y("onload",!1),Z({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}return c.url=e.url,c},this.unload=function(){return 0!==c.readyState&&(i._wD(c.id+": unload()"),c.isHTML5?(g(),c._a&&(c._a.pause(),Eb(c._a,cc),r=cc)):8===v?k._unload(c.id,cc):k._unload(c.id),d()),c},this.destruct=function(a){i._wD(c.id+": Destruct"),c.isHTML5?(g(),c._a&&(c._a.pause(),Eb(c._a),Jb||f(),c._a._s=null,c._a=null)):(c._iO.onfailure=null,k._destroySound(c.id)),a||i.destroySound(c.id,!0)},this.play=function(a,d){var e,f,g,j,n=!0,o=null;if(e=c.id+": play(): ",d=d===b?!0:d,a||(a={}),c.url&&(c._iO.url=c.url),c._iO=H(c._iO,c.options),c._iO=H(a,c._iO),c._iO.url=xb(c._iO.url),c.instanceOptions=c._iO,c._iO.serverURL&&!c.connected)return c.getAutoPlay()||(i._wD(e+" Netstream not connected yet - setting autoPlay"),c.setAutoPlay(!0)),c;if(Bb(c._iO)&&(c._setup_html5(c._iO),h()),1!==c.playState||c.paused||(f=c._iO.multiShot,f?i._wD(e+"Already playing (multi-shot)",1):(i._wD(e+"Already playing (one-shot)",1),o=c)),null!==o)return o;if(a.url&&a.url!==c.url&&c.load(c._iO),c.loaded?i._wD(e):0===c.readyState?(i._wD(e+"Attempting to load"),c.isHTML5?c.load(c._iO):(c._iO.autoPlay=!0,c.load(c._iO)),c.instanceOptions=c._iO):2===c.readyState?(i._wD(e+"Could not load - exiting",2),o=c):i._wD(e+"Loading - attempting to play..."),null!==o)return o;if(!c.isHTML5&&9===v&&c.position>0&&c.position===c.duration&&(i._wD(e+"Sound at end, resetting to position:0"),a.position=0),c.paused&&c.position>=0&&(!c._iO.serverURL||c.position>0))i._wD(e+"Resuming from paused state",1),c.resume();else{if(c._iO=H(a,c._iO),null!==c._iO.from&&null!==c._iO.to&&0===c.instanceCount&&0===c.playState&&!c._iO.serverURL){if(j=function(){c._iO=H(a,c._iO),c.play(c._iO)},c.isHTML5&&!c._html5_canplay?(i._wD(e+"Beginning load for from/to case"),c.load({oncanplay:j}),o=!1):c.isHTML5||c.loaded||c.readyState&&2===c.readyState||(i._wD(e+"Preloading for from/to case"),c.load({onload:j}),o=!1),null!==o)return o;c._iO=q()}i._wD(e+"Starting to play"),(!c.instanceCount||c._iO.multiShotEvents||!c.isHTML5&&v>8&&!c.getAutoPlay())&&c.instanceCount++,c._iO.onposition&&0===c.playState&&l(c),c.playState=1,c.paused=!1,c.position=c._iO.position===b||isNaN(c._iO.position)?0:c._iO.position,c.isHTML5||(c._iO=nb(mb(c._iO))),c._iO.onplay&&d&&(c._iO.onplay.apply(c),m=!0),c.setVolume(c._iO.volume,!0),c.setPan(c._iO.pan,!0),c.isHTML5?(h(),g=c._setup_html5(),c.setPosition(c._iO.position),g.play()):(n=k._start(c.id,c._iO.loops||1,9===v?c._iO.position:c._iO.position/1e3,c._iO.multiShot),9!==v||n||(i._wD(e+"No sound hardware, or 32-sound ceiling hit"),c._iO.onplayerror&&c._iO.onplayerror.apply(c)))}return c},this.start=this.play,this.stop=function(a){var d,b=c._iO;return 1===c.playState&&(i._wD(c.id+": stop()"),c._onbufferchange(0),c._resetOnPosition(0),c.paused=!1,c.isHTML5||(c.playState=0),p(),b.to&&c.clearOnPosition(b.to),c.isHTML5?c._a&&(d=c.position,c.setPosition(0),c.position=d,c._a.pause(),c.playState=0,c._onTimer(),g()):(k._stop(c.id,a),b.serverURL&&c.unload()),c.instanceCount=0,c._iO={},b.onstop&&b.onstop.apply(c)),c},this.setAutoPlay=function(a){i._wD(c.id+": Autoplay turned "+(a?"on":"off")),c._iO.autoPlay=a,c.isHTML5||(k._setAutoPlay(c.id,a),a&&(c.instanceCount||1!==c.readyState||(c.instanceCount++,i._wD(c.id+": Incremented instance count to "+c.instanceCount))))},this.getAutoPlay=function(){return c._iO.autoPlay},this.setPosition=function(a){a===b&&(a=0);var d,e,f,g=c.isHTML5?Math.max(a,0):Math.min(c.duration||c._iO.duration,Math.max(a,0));if(d=c.position,c.position=g,f=c.position/1e3,c._resetOnPosition(c.position),c._iO.position=g,c.isHTML5){if(c._a)if(c._html5_canplay){if(c._a.currentTime!==f){i._wD(c.id+": setPosition("+f+")");try{c._a.currentTime=f,(0===c.playState||c.paused)&&c._a.pause()}catch(h){i._wD(c.id+": setPosition("+f+") failed: "+h.message,2)}}}else i._wD(c.id+": setPosition("+f+"): Cannot seek yet, sound not ready")}else e=9===v?c.position:f,c.readyState&&2!==c.readyState&&k._setPosition(c.id,e,c.paused||!c.playState,c._iO.multiShot);return c.isHTML5&&c.paused&&c._onTimer(!0),c},this.pause=function(a){return c.paused||0===c.playState&&1!==c.readyState?c:(i._wD(c.id+": pause()"),c.paused=!0,c.isHTML5?(c._setup_html5().pause(),g()):(a||a===b)&&k._pause(c.id,c._iO.multiShot),c._iO.onpause&&c._iO.onpause.apply(c),c)},this.resume=function(){var a=c._iO;return c.paused?(i._wD(c.id+": resume()"),c.paused=!1,c.playState=1,c.isHTML5?(c._setup_html5().play(),h()):(a.isMovieStar&&!a.serverURL&&c.setPosition(c.position),k._pause(c.id,a.multiShot)),!m&&a.onplay?(a.onplay.apply(c),m=!0):a.onresume&&a.onresume.apply(c),c):c},this.togglePause=function(){return i._wD(c.id+": togglePause()"),0===c.playState?(c.play({position:9!==v||c.isHTML5?c.position/1e3:c.position}),c):(c.paused?c.resume():c.pause(),c)},this.setPan=function(a,d){return a===b&&(a=0),d===b&&(d=!1),c.isHTML5||k._setPan(c.id,a),c._iO.pan=a,d||(c.pan=a,c.options.pan=a),c},this.setVolume=function(a,d){return a===b&&(a=100),d===b&&(d=!1),c.isHTML5?c._a&&(c._a.volume=Math.max(0,Math.min(1,a/100))):k._setVolume(c.id,i.muted&&!c.muted||c.muted?0:a),c._iO.volume=a,d||(c.volume=a,c.options.volume=a),c},this.mute=function(){return c.muted=!0,c.isHTML5?c._a&&(c._a.muted=!0):k._setVolume(c.id,0),c},this.unmute=function(){c.muted=!1;var a=c._iO.volume!==b;return c.isHTML5?c._a&&(c._a.muted=!1):k._setVolume(c.id,a?c._iO.volume:c.options.volume),c},this.toggleMute=function(){return c.muted?c.unmute():c.mute()},this.onPosition=function(a,d,e){return n.push({position:parseInt(a,10),method:d,scope:e!==b?e:c,fired:!1}),c},this.onposition=this.onPosition,this.clearOnPosition=function(a,b){var c;if(a=parseInt(a,10),isNaN(a))return!1;for(c=0;n.length>c;c++)a===n[c].position&&(b&&b!==n[c].method||(n[c].fired&&o--,n.splice(c,1)))},this._processOnPosition=function(){var a,b,d=n.length;if(!d||!c.playState||o>=d)return!1;for(a=d-1;a>=0;a--)b=n[a],!b.fired&&c.position>=b.position&&(b.fired=!0,o++,b.method.apply(b.scope,[b.position]));return!0},this._resetOnPosition=function(a){var b,c,d=n.length;if(!d)return!1;for(b=d-1;b>=0;b--)c=n[b],c.fired&&c.position>=a&&(c.fired=!1,o--);return!0},q=function(){var e,f,a=c._iO,b=a.from,d=a.to;return f=function(){i._wD(c.id+': "To" time of '+d+" reached."),c.clearOnPosition(d,f),c.stop()},e=function(){i._wD(c.id+': Playing "from" '+b),null===d||isNaN(d)||c.onPosition(d,f)},null===b||isNaN(b)||(a.position=b,a.multiShot=!1,e()),a},l=function(){var a,b=c._iO.onposition;if(b)for(a in b)b.hasOwnProperty(a)&&c.onPosition(parseInt(a,10),b[a])},p=function(){var a,b=c._iO.onposition;if(b)for(a in b)b.hasOwnProperty(a)&&c.clearOnPosition(parseInt(a,10))},h=function(){c.isHTML5&&sb(c)},g=function(){c.isHTML5&&tb(c)},d=function(a){a||(n=[],o=0),m=!1,c._hasTimer=null,c._a=null,c._html5_canplay=!1,c.bytesLoaded=null,c.bytesTotal=null,c.duration=c._iO&&c._iO.duration?c._iO.duration:null,c.durationEstimate=null,c.buffered=[],c.eqData=[],c.eqData.left=[],c.eqData.right=[],c.failures=0,c.isBuffering=!1,c.instanceOptions={},c.instanceCount=0,c.loaded=!1,c.metadata={},c.readyState=0,c.muted=!1,c.paused=!1,c.peakData={left:0,right:0},c.waveformData={left:[],right:[]},c.playState=0,c.position=null,c.id3={}},d(),this._onTimer=function(a){var b,e,d=!1,f={};return c._hasTimer||a?(c._a&&(a||(c.playState>0||1===c.readyState)&&!c.paused)&&(b=c._get_html5_duration(),b!==s.duration&&(s.duration=b,c.duration=b,d=!0),c.durationEstimate=c.duration,e=1e3*c._a.currentTime||0,e!==s.time&&(s.time=e,d=!0),(d||a)&&c._whileplaying(e,f,f,f,f)),d):void 0},this._get_html5_duration=function(){var a=c._iO,b=c._a&&c._a.duration?1e3*c._a.duration:a&&a.duration?a.duration:null,d=b&&!isNaN(b)&&1/0!==b?b:null;return d},this._apply_loop=function(a,b){!a.loop&&b>1&&i._wD("Note: Native HTML5 looping is infinite.",1),a.loop=b>1?"loop":""},this._setup_html5=function(a){var i,b=H(c._iO,a),f=decodeURI,g=Jb?j:c._a,h=f(b.url);if(Jb?h===Kb&&(i=!0):h===r&&(i=!0),g){if(g._s)if(Jb)g._s&&g._s.playState&&!i&&g._s.stop();else if(!Jb&&h===f(r))return c._apply_loop(g,b.loops),g;i||(d(!1),g.src=b.url,c.url=b.url,r=b.url,Kb=b.url,g._called_load=!1)}else c._a=b.autoLoad||b.autoPlay?new Audio(b.url):Wb&&10>opera.version()?new Audio(null):new Audio,g=c._a,g._called_load=!1,Jb&&(j=g);return c.isHTML5=!0,c._a=g,g._s=c,e(),c._apply_loop(g,b.loops),b.autoLoad||b.autoPlay?c.load():(g.autobuffer=!1,g.preload="auto"),g},e=function(){function b(a,b,d){return c._a?c._a.addEventListener(a,b,d||!1):null}if(c._a._added_events)return!1;var a;c._a._added_events=!0;for(a in Ob)Ob.hasOwnProperty(a)&&b(a,Ob[a]);return!0},f=function(){function b(a,b,d){return c._a?c._a.removeEventListener(a,b,d||!1):null}var a;i._wD(c.id+": Removing event listeners"),c._a._added_events=!1;for(a in Ob)Ob.hasOwnProperty(a)&&b(a,Ob[a])},this._onload=function(a){var b,d=!!a||!c.isHTML5&&8===v&&c.duration;return b=c.id+": ",i._wD(b+(d?"onload()":"Failed to load? - "+c.url),d?1:2),d||c.isHTML5||(i.sandbox.noRemote===!0&&i._wD(b+hb("noNet"),1),i.sandbox.noLocal===!0&&i._wD(b+hb("noLocal"),1)),c.loaded=d,c.readyState=d?3:2,c._onbufferchange(0),c._iO.onload&&c._iO.onload.apply(c,[d]),!0},this._onbufferchange=function(a){return 0===c.playState?!1:a&&c.isBuffering||!a&&!c.isBuffering?!1:(c.isBuffering=1===a,c._iO.onbufferchange&&(i._wD(c.id+": Buffer state change: "+a),c._iO.onbufferchange.apply(c)),!0)},this._onsuspend=function(){return c._iO.onsuspend&&(i._wD(c.id+": Playback suspended"),c._iO.onsuspend.apply(c)),!0},this._onfailure=function(a,b,d){c.failures++,i._wD(c.id+": Failures = "+c.failures),c._iO.onfailure&&1===c.failures?c._iO.onfailure(c,a,b,d):i._wD(c.id+": Ignoring failure")},this._onfinish=function(){var a=c._iO.onfinish;c._onbufferchange(0),c._resetOnPosition(0),c.instanceCount&&(c.instanceCount--,c.instanceCount||(p(),c.playState=0,c.paused=!1,c.instanceCount=0,c.instanceOptions={},c._iO={},g(),c.isHTML5&&(c.position=0)),(!c.instanceCount||c._iO.multiShotEvents)&&a&&(i._wD(c.id+": onfinish()"),a.apply(c)))},this._whileloading=function(a,b,d,e){var f=c._iO;c.bytesLoaded=a,c.bytesTotal=b,c.duration=Math.floor(d),c.bufferLength=e,c.durationEstimate=c.isHTML5||f.isMovieStar?c.duration:f.duration?c.duration>f.duration?c.duration:f.duration:parseInt(c.bytesTotal/c.bytesLoaded*c.duration,10),c.isHTML5||(c.buffered=[{start:0,end:c.duration}]),(3!==c.readyState||c.isHTML5)&&f.whileloading&&f.whileloading.apply(c)},this._whileplaying=function(a,d,e,f,g){var i,h=c._iO;return isNaN(a)||null===a?!1:(c.position=Math.max(0,a),c._processOnPosition(),!c.isHTML5&&v>8&&(h.usePeakData&&d!==b&&d&&(c.peakData={left:d.leftPeak,right:d.rightPeak}),h.useWaveformData&&e!==b&&e&&(c.waveformData={left:e.split(","),right:f.split(",")}),h.useEQData&&g!==b&&g&&g.leftEQ&&(i=g.leftEQ.split(","),c.eqData=i,c.eqData.left=i,g.rightEQ!==b&&g.rightEQ&&(c.eqData.right=g.rightEQ.split(",")))),1===c.playState&&(c.isHTML5||8!==v||c.position||!c.isBuffering||c._onbufferchange(0),h.whileplaying&&h.whileplaying.apply(c)),!0)},this._oncaptiondata=function(a){i._wD(c.id+": Caption data received."),c.captiondata=a,c._iO.oncaptiondata&&c._iO.oncaptiondata.apply(c,[a])},this._onmetadata=function(a,b){i._wD(c.id+": Metadata received.");var e,f,d={};for(e=0,f=a.length;f>e;e++)d[a[e]]=b[e];c.metadata=d,c._iO.onmetadata&&c._iO.onmetadata.apply(c)},this._onid3=function(a,b){i._wD(c.id+": ID3 data received.");var e,f,d=[];for(e=0,f=a.length;f>e;e++)d[a[e]]=b[e];c.id3=H(c.id3,d),c._iO.onid3&&c._iO.onid3.apply(c)},this._onconnect=function(a){a=1===a,i._wD(c.id+": "+(a?"Connected.":"Failed to connect? - "+c.url),a?1:2),c.connected=a,a&&(c.failures=0,pb(c.id)&&(c.getAutoPlay()?c.play(b,c.getAutoPlay()):c._iO.autoLoad&&c.load()),c._iO.onconnect&&c._iO.onconnect.apply(c,[a]))},this._ondataerror=function(a){c.playState>0&&(i._wD(c.id+": Data error: "+a),c._iO.ondataerror&&c._iO.ondataerror.apply(c))},this._debug()},X=function(){return r.body||r._docElement||r.getElementsByTagName("div")[0]},o=function(a){return r.getElementById(a)},H=function(a,c){var e,f,d=a||{};e=c===b?i.defaultOptions:c;for(f in e)e.hasOwnProperty(f)&&d[f]===b&&(d[f]="object"!=typeof e[f]||null===e[f]?e[f]:H(d[f],e[f]));return d},J={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},I=function(a,c){var d,e=!0,f=c!==b,g=i.setupOptions,h=J;if(a===b){e=[];for(d in g)g.hasOwnProperty(d)&&e.push(d);for(d in h)h.hasOwnProperty(d)&&("object"==typeof i[d]?e.push(d+": {...}"):i[d]instanceof Function?e.push(d+": function() {...}"):e.push(d));return i._wD(hb("setup",e.join(", "))),!1}for(d in a)if(a.hasOwnProperty(d))if("object"!=typeof a[d]||null===a[d]||a[d]instanceof Array||a[d]instanceof RegExp)f&&h[c]!==b?i[c][d]=a[d]:g[d]!==b?(i.setupOptions[d]=a[d],i[d]=a[d]):h[d]===b?(ob(hb(i[d]===b?"setupUndef":"setupError",d),2),e=!1):i[d]instanceof Function?i[d].apply(i,a[d]instanceof Array?a[d]:[a[d]]):i[d]=a[d];else{if(h[d]!==b)return I(a[d],d);ob(hb(i[d]===b?"setupUndef":"setupError",d),2),e=!1}return e},Hb=function(){function d(a){var c=Ib.call(a),d=c.length;return b?(c[1]="on"+c[1],d>3&&c.pop()):3===d&&c.push(!1),c}function e(a,d){var e=a.shift(),f=[c[d]];b?e[f](a[0],a[1]):e[f].apply(e,a)}function f(){e(d(arguments),"add")}function g(){e(d(arguments),"remove")}var b=a.attachEvent,c={add:b?"attachEvent":"addEventListener",remove:b?"detachEvent":"removeEventListener"};return{add:f,remove:g}}(),Ob={abort:jc(function(){i._wD(this._s.id+": abort")}),canplay:jc(function(){var c,a=this._s;if(a._html5_canplay)return!0;if(a._html5_canplay=!0,i._wD(a.id+": canplay"),a._onbufferchange(0),c=a._iO.position===b||isNaN(a._iO.position)?null:a._iO.position/1e3,a.position&&this.currentTime!==c){i._wD(a.id+": canplay: Setting position to "+c);try{this.currentTime=c}catch(d){i._wD(a.id+": canplay: Setting position of "+c+" failed: "+d.message,2)}}a._iO._oncanplay&&a._iO._oncanplay()}),canplaythrough:jc(function(){var a=this._s;a.loaded||(a._onbufferchange(0),a._whileloading(a.bytesLoaded,a.bytesTotal,a._get_html5_duration()),a._onload(!0))}),ended:jc(function(){var a=this._s;i._wD(a.id+": ended"),a._onfinish()}),error:jc(function(){i._wD(this._s.id+": HTML5 error, code "+this.error.code),this._s._onload(!1)}),loadeddata:jc(function(){var a=this._s;i._wD(a.id+": loadeddata"),a._loaded||Vb||(a.duration=a._get_html5_duration())}),loadedmetadata:jc(function(){i._wD(this._s.id+": loadedmetadata")}),loadstart:jc(function(){i._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:jc(function(){i._wD(this._s.id+": play()"),this._s._onbufferchange(0)}),playing:jc(function(){i._wD(this._s.id+": playing"),this._s._onbufferchange(0)}),progress:jc(function(a){var c,d,e,b=this._s,f=0,g="progress"===a.type,h=a.target.buffered,j=a.loaded||0,k=a.total||1,l=1e3;if(b.buffered=[],h&&h.length){for(c=0,d=h.length;d>c;c++)b.buffered.push({start:h.start(c)*l,end:h.end(c)*l});if(f=(h.end(0)-h.start(0))*l,j=f/(a.target.duration*l),g&&h.length>1){for(e=[],d=h.length,c=0;d>c;c++)e.push(a.target.buffered.start(c)*l+"-"+a.target.buffered.end(c)*l);i._wD(this._s.id+": progress, timeRanges: "+e.join(", "))}g&&!isNaN(j)&&i._wD(this._s.id+": progress, "+Math.floor(100*j)+"% loaded")}isNaN(j)||(b._onbufferchange(0),b._whileloading(j,k,b._get_html5_duration()),j&&k&&j===k&&Ob.canplaythrough.call(this,a))}),ratechange:jc(function(){i._wD(this._s.id+": ratechange")}),suspend:jc(function(a){var b=this._s;i._wD(this._s.id+": suspend"),Ob.progress.call(this,a),b._onsuspend()}),stalled:jc(function(){i._wD(this._s.id+": stalled")}),timeupdate:jc(function(){this._s._onTimer()}),waiting:jc(function(){var a=this._s;i._wD(this._s.id+": waiting"),a._onbufferchange(1)})},Bb=function(a){var b;return b=a.serverURL||a.type&&ic(a.type)?!1:a.type?Cb({type:a.type}):Cb({url:a.url})||i.html5Only},Eb=function(a,b){a&&(a.src=b,a._called_load=!1),Jb&&(Kb=null)},Cb=function(a){if(!i.useHTML5Audio||!i.hasHTML5)return!1;var f,g,h,j,c=a.url||null,d=a.type||null,e=i.audioFormats;if(d&&i.html5[d]!==b)return i.html5[d]&&!ic(d);if(!Db){Db=[];for(j in e)e.hasOwnProperty(j)&&(Db.push(j),e[j].related&&(Db=Db.concat(e[j].related)));Db=RegExp("\\.("+Db.join("|")+")(\\?.*)?$","i")}return h=c?c.toLowerCase().match(Db):null,h&&h.length?h=h[1]:d?(g=d.indexOf(";"),h=(-1!==g?d.substr(0,g):d).substr(6)):f=!1,h&&i.html5[h]!==b?f=i.html5[h]&&!ic(h):(d="audio/"+h,f=i.html5.canPlayType({type:d}),i.html5[h]=f,f=f&&i.html5[d]&&!ic(d)),f},Gb=function(){function h(b){var c,d,e,f=!1,g=!1;if(!a||"function"!=typeof a.canPlayType)return f;if(b instanceof Array){for(d=0,e=b.length;e>d;d++)(i.html5[b[d]]||a.canPlayType(b[d]).match(i.html5Test))&&(g=!0,i.html5[b[d]]=!0,i.flash[b[d]]=!!b[d].match(bc));f=g}else c=a&&"function"==typeof a.canPlayType?a.canPlayType(b):!1,f=!(!c||!c.match(i.html5Test));return f}if(!i.useHTML5Audio||!i.hasHTML5)return!1;var c,d,f,g,a=Audio!==b?Wb&&10>opera.version()?new Audio(null):new Audio:null,e={};f=i.audioFormats;for(c in f)if(f.hasOwnProperty(c)&&(d="audio/"+c,e[c]=h(f[c].type),e[d]=e[c],c.match(bc)?(i.flash[c]=!0,i.flash[d]=!0):(i.flash[c]=!1,i.flash[d]=!1),f[c]&&f[c].related))for(g=f[c].related.length-1;g>=0;g--)e["audio/"+f[c].related[g]]=e[c],i.html5[f[c].related[g]]=e[c],i.flash[f[c].related[g]]=e[c];return e.canPlayType=a?h:null,i.html5=H(i.html5,e),!0},R={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:l+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:m+"Verify that %s is a valid path.",tryDebug:"Try "+l+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:m+"Non-HTTP page ("+r.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:m+"Special case: Waiting for SWF to load with window focus...",waitForever:m+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:m+"Waiting for 100% SWF load...",needFunction:m+"Function object expected for %s",badID:'Warning: Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:m+"_debug(): Current sound objects",waitOnload:m+"Waiting for window.onload()",docLoaded:m+"Document already loaded",onload:m+"initComplete(): calling soundManager.onload()",onloadOK:l+".onload() complete",didInit:m+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:m+"Failed to remove Flash node.",shutdown:l+".disable(): Shutting down",queue:m+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+kb.swfTimedout+" CSS...",fbLoaded:"Flash loaded",flRemoved:m+"Flash movie removed.",fbHandler:m+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:l+".load(): current URL already assigned.",badFV:l+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:m+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:m+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:l+".setup(): allowed parameters: %s",setupError:l+'.setup(): "%s" cannot be assigned with this method.',setupUndef:l+'.setup(): Could not find option "%s"',setupLate:l+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:m+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready.",reset:l+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device."},hb=function(){var d,e,a=Ib.call(arguments),b=a.shift(),c=R&&R[b]?R[b]:"";
if(c&&a&&a.length)for(d=0,e=a.length;e>d;d++)c=c.replace("%s",a[d]);return c},mb=function(a){return 8===v&&a.loops>1&&a.stream&&(E("as2loop"),a.stream=!1),a},nb=function(a,b){return a&&!a.usePolicyFile&&(a.onid3||a.usePeakData||a.useWaveformData||a.useEQData)&&(i._wD((b||"")+hb("policy")),a.usePolicyFile=!0),a},ob=function(a){console!==b&&console.warn!==b?console.warn(a):i._wD(a)},s=function(){return!1},cb=function(a){var b;for(b in a)a.hasOwnProperty(b)&&"function"==typeof a[b]&&(a[b]=s);b=null},db=function(a){a===b&&(a=!1),(C||a)&&i.disable(a)},eb=function(a){var c,b=null;if(a)if(a.match(/\.swf(\?.*)?$/i)){if(b=a.substr(a.toLowerCase().lastIndexOf(".swf?")+4))return a}else a.lastIndexOf("/")!==a.length-1&&(a+="/");return c=(a&&-1!==a.lastIndexOf("/")?a.substr(0,a.lastIndexOf("/")+1):"./")+i.movieURL,i.noSWFCache&&(c+="?ts="+(new Date).getTime()),c},P=function(){v=parseInt(i.flashVersion,10),8!==v&&9!==v&&(i._wD(hb("badFV",v,bb)),i.flashVersion=v=bb);var a=i.debugMode||i.debugFlash?"_debug.swf":".swf";i.useHTML5Audio&&!i.html5Only&&i.audioFormats.mp4.required&&9>v&&(i._wD(hb("needfl9")),i.flashVersion=v=9),i.version=i.versionNumber+(i.html5Only?" (HTML5-only mode)":9===v?" (AS3/Flash 9)":" (AS2/Flash 8)"),v>8?(i.defaultOptions=H(i.defaultOptions,i.flash9Options),i.features.buffering=!0,i.defaultOptions=H(i.defaultOptions,i.movieStarOptions),i.filePatterns.flash9=RegExp("\\.(mp3|"+gc.join("|")+")(\\?.*)?$","i"),i.features.movieStar=!0):i.features.movieStar=!1,i.filePattern=i.filePatterns[8!==v?"flash9":"flash8"],i.movieURL=(8===v?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",a),i.features.peakData=i.features.waveformData=i.features.eqData=v>8},$=function(a,b){return k?(k._setPolling(a,b),void 0):!1},_=function(){if(i.debugURLParam.test(q)&&(i.debugMode=!0),o(i.debugID))return!1;var a,b,c,d,e;if(!(!i.debugMode||o(i.debugID)||Zb&&i.useConsole&&i.consoleOnly)){a=r.createElement("div"),a.id=i.debugID+"-toggle",d={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},a.appendChild(r.createTextNode("-")),a.onclick=lb,a.title="Toggle SM2 debug console",p.match(/msie 6/i)&&(a.style.position="absolute",a.style.cursor="hand");for(e in d)d.hasOwnProperty(e)&&(a.style[e]=d[e]);if(b=r.createElement("div"),b.id=i.debugID,b.style.display=i.debugMode?"block":"none",i.debugMode&&!o(a.id)){try{c=_s.domContainer,c.appendChild(a)}catch(f){throw Error(hb("domError")+" \n"+(""+f))}c.appendChild(b)}}c=null},pb=this.getSoundById,E=function(a,b){return a?i._wD(hb(a),b):""},lb=function(){var a=o(i.debugID),b=o(i.debugID+"-toggle");return a?(x?(b.innerHTML="+",a.style.display="none"):(b.innerHTML="-",a.style.display="block"),x=!x,void 0):!1},y=function(c,d,e){if(a.sm2Debugger!==b)try{sm2Debugger.handleEvent(c,d,e)}catch(f){}return!0},jb=function(){var a=[];return i.debugMode&&a.push(kb.sm2Debug),i.debugFlash&&a.push(kb.flashDebug),i.useHighPerformance&&a.push(kb.highPerf),a.join(" ")},ib=function(){var a=hb("fbHandler"),b=i.getMoviePercent(),c=kb,d={type:"FLASHBLOCK"};return i.html5Only?!1:(i.ok()?(i.didFlashBlock&&i._wD(a+": Unblocked"),i.oMC&&(i.oMC.className=[jb(),c.swfDefault,c.swfLoaded+(i.didFlashBlock?" "+c.swfUnblocked:"")].join(" "))):(zb&&(i.oMC.className=jb()+" "+c.swfDefault+" "+(null===b?c.swfTimedout:c.swfError),i._wD(a+": "+hb("fbTimeout")+(b?" ("+hb("fbLoaded")+")":""))),i.didFlashBlock=!0,L({type:"ontimeout",ignoreInit:!0,error:d}),Z(d)),void 0)},K=function(a,c,d){w[a]===b&&(w[a]=[]),w[a].push({method:c,scope:d||null,fired:!1})},L=function(a){if(a||(a={type:i.ok()?"onready":"ontimeout"}),!B&&a&&!a.ignoreInit)return!1;if("ontimeout"===a.type&&(i.ok()||C&&!a.ignoreInit))return!1;var e,f,b={success:a&&a.ignoreInit?i.ok():!C},c=a&&a.type?w[a.type]||[]:[],d=[],g=[b],h=zb&&!i.ok();for(a.error&&(g[0].error=a.error),e=0,f=c.length;f>e;e++)c[e].fired!==!0&&d.push(c[e]);if(d.length)for(e=0,f=d.length;f>e;e++)d[e].scope?d[e].method.apply(d[e].scope,g):d[e].method.apply(this,g),h||(d[e].fired=!0);return!0},M=function(){a.setTimeout(function(){i.useFlashBlock&&ib(),L(),"function"==typeof i.onload&&(E("onload",1),i.onload.apply(a),E("onloadOK",1)),i.waitForWindowLoad&&Hb.add(a,"load",M)},1)},Mb=function(){if(Lb!==b)return Lb;var f,g,h,c=!1,d=navigator,e=d.plugins,i=a.ActiveXObject;if(e&&e.length)g="application/x-shockwave-flash",h=d.mimeTypes,h&&h[g]&&h[g].enabledPlugin&&h[g].enabledPlugin.description&&(c=!0);else if(i!==b&&!p.match(/MSAppHost/i)){try{f=new i("ShockwaveFlash.ShockwaveFlash")}catch(j){}c=!!f,f=null}return Lb=c,c},Ab=function(){var a,b,c=!0,d=i.audioFormats,e=Rb&&!!p.match(/os (1|2|3_0|3_1)/i);if(e?(i.hasHTML5=!1,i.html5Only=!0,i.oMC&&(i.oMC.style.display="none"),c=!1):i.useHTML5Audio&&(i.html5&&i.html5.canPlayType||(i._wD("SoundManager: No HTML5 Audio() support detected."),i.hasHTML5=!1),Yb&&i._wD(m+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(Lb?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),i.useHTML5Audio&&i.hasHTML5)for(b in d)d.hasOwnProperty(b)&&(d[b].required&&!i.html5.canPlayType(d[b].type)||i.preferFlash&&(i.flash[b]||i.flash[d[b].type]))&&(a=!0);return i.ignoreFlash&&(a=!1),i.html5Only=i.hasHTML5&&i.useHTML5Audio&&!a,!i.html5Only},xb=function(a){var b,c,e,d=0;if(a instanceof Array){for(b=0,c=a.length;c>b;b++)if(a[b]instanceof Object){if(i.canPlayMIME(a[b].type)){d=b;break}}else if(i.canPlayURL(a[b])){d=b;break}a[d].url&&(a[d]=a[d].url),e=a[d]}else e=a;return e},sb=function(b){b._hasTimer||(b._hasTimer=!0,!Xb&&i.html5PollingInterval&&(null===wb&&0===vb&&(wb=a.setInterval(ub,i.html5PollingInterval)),vb++))},tb=function(a){a._hasTimer&&(a._hasTimer=!1,!Xb&&i.html5PollingInterval&&vb--)},ub=function(){var b;if(null!==wb&&!vb)return a.clearInterval(wb),wb=null,!1;for(b=i.soundIDs.length-1;b>=0;b--)i.sounds[i.soundIDs[b]].isHTML5&&i.sounds[i.soundIDs[b]]._hasTimer&&i.sounds[i.soundIDs[b]]._onTimer()},Z=function(c){c=c!==b?c:{},"function"==typeof i.onerror&&i.onerror.apply(a,[{type:c.type!==b?c.type:null}]),c.fatal!==b&&c.fatal&&i.disable()},Nb=function(){if(!Yb||!Mb())return!1;var b,c,a=i.audioFormats;for(c in a)if(a.hasOwnProperty(c)&&("mp3"===c||"mp4"===c)&&(i._wD(l+": Using flash fallback for "+c+" format"),i.html5[c]=!1,a[c]&&a[c].related))for(b=a[c].related.length-1;b>=0;b--)i.html5[a[c].related[b]]=!1},this._setSandboxType=function(a){var c=i.sandbox;c.type=a,c.description=c.types[c.types[a]!==b?a:"unknown"],"localWithFile"===c.type?(c.noRemote=!0,c.noLocal=!1,E("secNote",2)):"localWithNetwork"===c.type?(c.noRemote=!1,c.noLocal=!0):"localTrusted"===c.type&&(c.noRemote=!1,c.noLocal=!1)},this._externalInterfaceOK=function(a,b){if(i.swfLoaded)return!1;var c;return y("swf",!0),y("flashtojs",!0),i.swfLoaded=!0,_b=!1,Yb&&Nb(),b&&b.replace(/\+dev/i,"")===i.versionNumber.replace(/\+dev/i,"")?(setTimeout(u,Tb?100:1),void 0):(c=l+': Fatal: JavaScript file build "'+i.versionNumber+'" does not match Flash SWF build "'+b+'" at '+i.url+". Ensure both are up-to-date.",setTimeout(function(){throw Error(c)},0),!1)},Y=function(a,c){function d(){var b,a=[],c=[],d=" + ";b="SoundManager "+i.version+(!i.html5Only&&i.useHTML5Audio?i.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),i.html5Only?i.html5PollingInterval&&a.push("html5PollingInterval ("+i.html5PollingInterval+"ms)"):(i.preferFlash&&a.push("preferFlash"),i.useHighPerformance&&a.push("useHighPerformance"),i.flashPollingInterval&&a.push("flashPollingInterval ("+i.flashPollingInterval+"ms)"),i.html5PollingInterval&&a.push("html5PollingInterval ("+i.html5PollingInterval+"ms)"),i.wmode&&a.push("wmode ("+i.wmode+")"),i.debugFlash&&a.push("debugFlash"),i.useFlashBlock&&a.push("flashBlock")),a.length&&(c=c.concat([a.join(d)])),i._wD(b+(c.length?d+c.join(", "):""),1),Pb()}function B(a,b){return'<param name="'+a+'" value="'+b+'" />'}if(z&&A)return!1;if(i.html5Only)return P(),d(),i.oMC=o(i.movieID),u(),z=!0,A=!0,!1;var n,q,s,t,v,w,x,y,e=c||i.url,f=i.altURL||e,h="JS/Flash audio component (SoundManager 2)",j=X(),k=jb(),l=null,m=r.getElementsByTagName("html")[0];if(l=m&&m.dir&&m.dir.match(/rtl/i),a=a===b?i.id:a,P(),i.url=eb(dc?e:f),c=i.url,i.wmode=!i.wmode&&i.useHighPerformance?"transparent":i.wmode,null!==i.wmode&&(p.match(/msie 8/i)||!Tb&&!i.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(yb.push(R.spcWmode),i.wmode=null),n={name:a,id:a,src:c,quality:"high",allowScriptAccess:i.allowScriptAccess,bgcolor:i.bgColor,pluginspage:ec+"www.macromedia.com/go/getflashplayer",title:h,type:"application/x-shockwave-flash",wmode:i.wmode,hasPriority:"true"},i.debugFlash&&(n.FlashVars="debug=1"),i.wmode||delete n.wmode,Tb)q=r.createElement("div"),t=['<object id="'+a+'" data="'+c+'" type="'+n.type+'" title="'+n.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+ec+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',B("movie",c),B("AllowScriptAccess",i.allowScriptAccess),B("quality",n.quality),i.wmode?B("wmode",i.wmode):"",B("bgcolor",i.bgColor),B("hasPriority","true"),i.debugFlash?B("FlashVars",n.FlashVars):"","</object>"].join("");else{q=r.createElement("embed");for(s in n)n.hasOwnProperty(s)&&q.setAttribute(s,n[s])}if(_(),k=jb(),j=g.domContainer)if(i.oMC=o(i.movieID)||r.createElement("div"),i.oMC.id)y=i.oMC.className,i.oMC.className=(y?y+" ":kb.swfDefault)+(k?" "+k:""),i.oMC.appendChild(q),Tb&&(v=i.oMC.appendChild(r.createElement("div")),v.className=kb.swfBox,v.innerHTML=t),A=!0;else{if(i.oMC.id=i.movieID,i.oMC.className=kb.swfDefault+" "+k,w=null,v=null,i.useFlashBlock||(i.useHighPerformance?w={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(w={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},l&&(w.left=Math.abs(parseInt(w.left,10))+"px"))),Ub&&(i.oMC.style.zIndex=1e4),!i.debugFlash)for(x in w)w.hasOwnProperty(x)&&(i.oMC.style[x]=w[x]);try{Tb||i.oMC.appendChild(q),j.appendChild(i.oMC),Tb&&(v=i.oMC.appendChild(r.createElement("div")),v.className=kb.swfBox,v.innerHTML=t),A=!0}catch(C){throw Error(hb("domError")+" \n"+(""+C))}}return z=!0,d(),!0},S=function(){return i.html5Only?(Y(),!1):k?!1:i.url?(k=i.getMovie(i.id),k||(fb?(Tb?i.oMC.innerHTML=gb:i.oMC.appendChild(fb),fb=null,z=!0):Y(i.id,i.url),k=i.getMovie(i.id)),"function"==typeof i.oninitmovie&&setTimeout(i.oninitmovie,1),Qb(),!0):(E("noURL"),!1)},N=function(){setTimeout(O,1e3)},O=function(){var b,c=!1;return i.url?qb?!1:(qb=!0,Hb.remove(a,"load",N),_b&&!$b?(E("waitFocus"),!1):(B||(b=i.getMoviePercent(),b>0&&100>b&&(c=!0)),setTimeout(function(){return b=i.getMoviePercent(),c?(qb=!1,i._wD(hb("waitSWF")),a.setTimeout(N,1),!1):(B||(i._wD(l+": No Flash response within expected time. Likely causes: "+(0===b?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(i.debugFlash?" "+hb("checkSWF"):""),2),!dc&&b&&(E("localFail",2),i.debugFlash||E("tryDebug",2)),0===b&&i._wD(hb("swf404",i.url),1),y("flashtojs",!1," (Check flash security or flash blockers)")),!B&&ac&&(null===b?i.useFlashBlock||0===i.flashLoadTimeout?(i.useFlashBlock&&ib(),E("waitForever")):(E("waitForever"),L({type:"ontimeout",ignoreInit:!0})):0===i.flashLoadTimeout?E("waitForever"):db(!0)),void 0)},i.flashLoadTimeout),void 0)):!1},Q=function(){function b(){Hb.remove(a,"focus",Q)}return $b||!_b?(b(),!0):(ac=!0,$b=!0,E("gotFocus"),qb=!1,N(),b(),!0)},Qb=function(){yb.length&&(i._wD("SoundManager 2: "+yb.join(" "),1),yb=[])},Pb=function(){Qb();var a,b=[];if(i.useHTML5Audio&&i.hasHTML5){for(a in i.audioFormats)i.audioFormats.hasOwnProperty(a)&&b.push(a+" = "+i.html5[a]+(!i.html5[a]&&Lb&&i.flash[a]?" (using flash)":i.preferFlash&&i.flash[a]&&Lb?" (preferring flash)":i.html5[a]?"":" ("+(i.audioFormats[a].required?"required, ":"")+"and no flash support)"));i._wD("SoundManager 2 HTML5 support: "+b.join(", "),1)}},G=function(b){if(B)return!1;if(i.html5Only)return E("sm2Loaded"),B=!0,M(),y("onload",!0),!0;var e,c=i.useFlashBlock&&i.flashLoadTimeout&&!i.getMoviePercent(),d=!0;return c||(B=!0,C&&(e={type:!Lb&&zb?"NO_FLASH":"INIT_TIMEOUT"})),i._wD("SoundManager 2 "+(C?"failed to load":"loaded")+" ("+(C?"Flash security/load error":"OK")+")",C?2:1),C||b?(i.useFlashBlock&&i.oMC&&(i.oMC.className=jb()+" "+(null===i.getMoviePercent()?kb.swfTimedout:kb.swfError)),L({type:"ontimeout",error:e,ignoreInit:!0}),y("onload",!1),Z(e),d=!1):y("onload",!0),C||(i.waitForWindowLoad&&!D?(E("waitOnload"),Hb.add(a,"load",M)):(i.waitForWindowLoad&&D&&E("docLoaded"),M())),d},t=function(){var a,c=i.setupOptions;for(a in c)c.hasOwnProperty(a)&&(i[a]===b?i[a]=c[a]:i[a]!==c[a]&&(i.setupOptions[a]=i[a]))},u=function(){function b(){Hb.remove(a,"load",i.beginDelayedInit)}if(B)return E("didInit"),!1;if(i.html5Only)return B||(b(),i.enabled=!0,G()),!0;S();try{k._externalInterfaceTest(!1),$(!0,i.flashPollingInterval||(i.useHighPerformance?10:50)),i.debugMode||k._disableDebug(),i.enabled=!0,y("jstoflash",!0),i.html5Only||Hb.add(a,"unload",s)}catch(c){return i._wD("js/flash exception: "+(""+c)),y("jstoflash",!1),Z({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),db(!0),G(),!1}return G(),b(),!0},U=function(){return W?!1:(W=!0,t(),_(),function(){var c="sm2-usehtml5audio=",d="sm2-preferflash=",e=null,f=null,g=a.console!==b&&"function"==typeof console.log,h=q.toLowerCase();-1!==h.indexOf(c)&&(e="1"===h.charAt(h.indexOf(c)+c.length),g&&console.log((e?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),i.setup({useHTML5Audio:e})),-1!==h.indexOf(d)&&(f="1"===h.charAt(h.indexOf(d)+d.length),g&&console.log((f?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),i.setup({preferFlash:f}))}(),!Lb&&i.hasHTML5&&(i._wD("SoundManager: No Flash detected"+(i.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),i.setup({useHTML5Audio:!0,preferFlash:!1})),Gb(),i.html5.usingFlash=Ab(),zb=i.html5.usingFlash,!Lb&&zb&&(yb.push(R.needFlash),i.setup({flashLoadTimeout:1})),r.removeEventListener&&r.removeEventListener("DOMContentLoaded",U,!1),S(),!0)},Fb=function(){return"complete"===r.readyState&&(U(),r.detachEvent("onreadystatechange",Fb)),!0},V=function(){D=!0,Hb.remove(a,"load",V)},T=function(){Xb&&((!i.setupOptions.useHTML5Audio||i.setupOptions.preferFlash)&&yb.push(R.mobileUA),i.setupOptions.useHTML5Audio=!0,i.setupOptions.preferFlash=!1,(Rb||Sb&&!p.match(/android\s2\.3/i))&&(yb.push(R.globalHTML5),Rb&&(i.ignoreFlash=!0),Jb=!0))},T(),Mb(),this.appended=function(){return U(),this}}var c=function(a,b,c){if(a.indexOf)return a.indexOf.call(a,b,c);for(var d=c||0;a.length>d;d++)if(a[d]==b)return d;return-1},d=function(a,b,d,e){var f=a||{};for(var g in b)(!e||c(e,g)>-1)&&(d&&-1!=c(d,g)||(f[g]=b[g]));return f},e=null;void 0!==a.SM2_DEFER&&SM2_DEFER||(e=new f),a.SoundManager=f,a.soundManager=e})(window);